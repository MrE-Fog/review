[{n2o, [{port,8000},
        {app,review},
        {upload,"./priv/static/"},
        {routes,routes},
        {mq,n2o_syn},
        {formatter,n2o_bert},
        {protocols,[n2o_heart]},
        {session,n2o_session},
        {origin,<<"*">>},
        {pickler,n2o_secret},
        {mqtt_host, {127,0,0,1}},
        {mqtt_tcp_port, 1883},
        {mqtt_services, [
          {index, [{owner, 34239034}, {protocols, [n2o_ftp, nitro_n2o]}, {qos,2} ]},
          {sed, [{owner, 34239034}, {protocols, [n2o_sed]}]}
        ]}
      ]},
 {kvs, [{dba,kvs_mnesia},
        {dba_st,kvs_stream},
        {schema, [kvs, kvs_stream ]} ]},
 {emqx,[
    {mgmt_port, 8080},
    {default_user_passwd,"public"},
    {default_user_username,"admin"},
    {max_row_limit,10000},
    {default_application_id, ""},
    {default_application_secret,""},
    {route_batch_clean,false},
    {shared_dispatch_ack_enabled,false},
    {shared_subscription_strategy,random},
    {session_locking_strategy,quorum},
    {enable_session_registry,true},
    {broker_sys_interval,60000},
    {expand_plugins_dir,"plugins/"},
    {plugins_loaded_file,"data/loaded_plugins"},
    {plugins_etc_dir,"etc/plugins/"},
    {mqtt_ignore_loop_deliver,false},
    {mqtt_shared_subscription,true},
    {mqtt_wildcard_subscription,true},
    {mqtt_retain_available,true},
    {max_topic_alias,0},
    {max_qos_allowed,2},
    {max_topic_levels,0},
    {max_clientid_len,65535},
    {max_packet_size,1048576},
    {response_topic_prefix,"emqxrspv1"},
    {acl_deny_action,ignore},
    {acl_cache_max_size,32},
    {acl_cache_ttl,60000},
    {enable_acl_cache,true},
    {acl_file,"etc/acl.conf"},
    {acl_nomatch,allow},
    {allow_anonymous,true},
    {primary_log_level,error},
    {zones,[
        {external,[
            {use_username_as_clientid,false},
            {upgrade_qos,false},
            {session_expiry_interval,7200},
            {retry_interval,20000},
            {mqueue_store_qos0,true},
            none,
            {mqueue_default_priority,highest},
            {max_subscriptions,0},
            {max_mqueue_len,1000},
            {max_inflight,32},
            {max_awaiting_rel,100},
            {keepalive_backoff,0.75},
            {idle_timeout,15000},
            {force_shutdown_policy,#{max_heap_size => 0,message_queue_len => 0}},
            {force_gc_policy,#{bytes => 1048576,count => 1000}},
            {enable_stats,true},
            {enable_ban,true},
            {enable_acl,true},
            {await_rel_timeout,300000},
            {acl_deny_action,ignore}]},
        {internal, [
            {use_username_as_clientid,false},
            {upgrade_qos,false},
            {session_expiry_interval,7200},
            {retry_interval,20000},
            {mqueue_store_qos0,true},
            none,
            {mqueue_default_priority,lowest},
            {max_subscriptions,0},
            {max_mqueue_len,1000},
            {max_inflight,32},
            {max_awaiting_rel,100},
            {keepalive_backoff,0.75},
            {idle_timeout,15000},
            {force_shutdown_policy,#{max_heap_size => 0,message_queue_len => 0}},
            {force_gc_policy,#{bytes => 0,count => 0}},
            {enable_stats,true},
            {enable_ban,false},
            {enable_acl,false},
            {await_rel_timeout,300000},
            {allow_anonymous,true},
            {acl_deny_action,ignore}]}
    ]},
    {listeners,[
        {tcp, {"0.0.0.0",11883},[
            {tcp_options, [{backlog,512},{send_timeout,5000},{send_timeout_close,true},{nodelay,false},{reuseaddr,true}]},
            {acceptors,4},
            {max_connections,1024000},
            {max_conn_rate,1000},
            {active_n,1000},
            {zone,internal}
        ]},
        {tcp, {"0.0.0.0",1883},[
            {tcp_options, [{backlog,1024},{send_timeout,15000},{send_timeout_close,true},{nodelay,true},{reuseaddr,true}]},
            {acceptors,8},
            {max_connections,1024000},
            {max_conn_rate,1000},
            {active_n,100},
            {zone,external},
            {access_rules,[{allow,all}]}
        ]},
        {ws,8083, [
            {tcp_options, [{backlog,1024},{send_timeout,15000},{send_timeout_close,true},{nodelay,true}]},
            {acceptors,4},
            {mqtt_path,"/mqtt"},
            {max_connections,102400},
            {max_conn_rate,1000},
            {zone,external},
            {verify_protocol_header,true},
            {access_rules,[{allow,all}]}
        ]}
    ]},
    {modules,[{emqx_mod_presence,[{qos,1}]}]},
    {sysmon, [
        {long_gc,false},
        {long_schedule,240},
        {large_heap,8388608},
        {busy_port,false},
        {busy_dist_port,true}
    ]}
  ]}
].
